{"version":3,"sources":["../src/OpenLocalBrowser.js"],"names":["child_proc","require","Logger","logger","module","exports","url","isMac","test","process","platform","isWin","exec","err","stdout","stderr","toString","JSON","stringify"],"mappings":"AACA;AAEA,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,MAAM;AAAEC,EAAAA,MAAM,EAAEC;AAAV,IAAqBF,OAAO,CAAC,UAAD,CAAlC;;AAIAG,MAAM,CAACC,OAAP,GAAkBC,GAAD,IAAiB;AAChC,QAAMC,KAAK,GAAG,UAAUC,IAAV,CAAeC,OAAO,CAACC,QAAvB,CAAd;AACA,QAAMC,KAAK,GAAG,OAAOH,IAAP,CAAYC,OAAO,CAACC,QAApB,CAAd;;AACA,MAAI,CAACC,KAAD,IAAU,CAACJ,KAAf,EAAsB;AACpBJ,IAAAA,MAAM,CAAC,CAAD,EAAK,oBAAmBG,GAAI,4BAA5B,CAAN;AACD,GAFD,MAEO;AACLA,IAAAA,GAAG,GAAG,CAACC,KAAK,GAAG,OAAH,GAAa,QAAnB,IAA+BD,GAArC;AACAH,IAAAA,MAAM,CAAC,CAAD,EAAIG,GAAJ,CAAN;AACAN,IAAAA,UAAU,CAACY,IAAX,CACEN,GADF,EAEE,CAACO,GAAD,EAA4BC,MAA5B,EAA4CC,MAA5C,KAA+D;AAC7DZ,MAAAA,MAAM,CAAC,CAAD,EAAI,aAAaW,MAAM,CAACE,QAAP,EAAjB,CAAN;AACAb,MAAAA,MAAM,CAAC,CAAD,EAAI,aAAaY,MAAM,CAACC,QAAP,EAAjB,CAAN;;AACA,UAAIH,GAAG,KAAK,IAAZ,EAAkB;AAChBV,QAAAA,MAAM,CAAC,CAAD,EAAI,iBAAiBc,IAAI,CAACC,SAAL,CAAeL,GAAf,CAArB,CAAN;AACD;AACF,KARH;AAUD;AACF,CAnBD","sourcesContent":["// @flow\n// @format\n\nconst child_proc = require('child_process');\nconst { Logger: logger } = require('my-utils');\n\ntype BufStr = string | Buffer;\n\nmodule.exports = (url: string) => {\n  const isMac = /^darwin/.test(process.platform);\n  const isWin = /^win/.test(process.platform);\n  if (!isWin && !isMac) {\n    logger(0, `open a brower to ${url} to launch the application`);\n  } else {\n    url = (isMac ? 'open ' : 'start ') + url;\n    logger(0, url);\n    child_proc.exec(\n      url,\n      (err: ?child_process$Error, stdout: BufStr, stderr: BufStr) => {\n        logger(2, 'stdout: ' + stdout.toString());\n        logger(2, 'stderr: ' + stderr.toString());\n        if (err !== null) {\n          logger(0, 'exec error: ' + JSON.stringify(err));\n        }\n      }\n    );\n  }\n};\n"],"file":"OpenLocalBrowser.js"}