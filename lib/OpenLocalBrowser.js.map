{"version":3,"sources":["../src/OpenLocalBrowser.js"],"names":["child_proc","require","logger","log","bind","disable","module","exports","url","isMac","test","process","platform","isWin","exec","err","stdout","stderr","toString","undefined","JSON","stringify"],"mappings":"AACA;AAEA,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,qBAAD,CAAtB;;AAEA,MAAME,GAAG,GAAGD,MAAM,CAACE,IAAP,CAAY,KAAZ,CAAZ;AACAF,MAAM,CAACG,OAAP,CAAe,KAAf;;AAIAC,MAAM,CAACC,OAAP,GAAkBC,GAAD,IAAiB;AAChC,QAAMC,KAAK,GAAG,UAAUC,IAAV,CAAeC,OAAO,CAACC,QAAvB,CAAd;AACA,QAAMC,KAAK,GAAG,OAAOH,IAAP,CAAYC,OAAO,CAACC,QAApB,CAAd;;AACA,MAAI,CAACC,KAAD,IAAU,CAACJ,KAAf,EAAsB;AACpBN,IAAAA,GAAG,CAAE,oBAAmBK,GAAI,4BAAzB,CAAH;AACD,GAFD,MAEO;AACLA,IAAAA,GAAG,GAAG,CAACC,KAAK,GAAG,OAAH,GAAa,QAAnB,IAA+BD,GAArC;AACAL,IAAAA,GAAG,CAACK,GAAD,CAAH;AACAR,IAAAA,UAAU,CAACc,IAAX,CACEN,GADF,EAEE,CAACO,GAAD,EAA4BC,MAA5B,EAA4CC,MAA5C,KAA+D;AAC7Dd,MAAAA,GAAG,CAAC,aAAaa,MAAM,CAACE,QAAP,EAAd,CAAH;AACAf,MAAAA,GAAG,CAAC,aAAac,MAAM,CAACC,QAAP,EAAd,CAAH;;AACA,UAAIH,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAKI,SAA5B,EAAuC;AACrChB,QAAAA,GAAG,CAAE,eAAciB,IAAI,CAACC,SAAL,CAAeN,GAAf,CAAoB,EAApC,CAAH;AACD;AACF,KARH;AAUD;AACF,CAnBD","sourcesContent":["// @flow\n// @format\n\nconst child_proc = require('child_process');\nconst logger = require('@freik/simplelogger');\n\nconst log = logger.bind('olb');\nlogger.disable('olb');\n\ntype BufStr = string | Buffer;\n\nmodule.exports = (url: string) => {\n  const isMac = /^darwin/.test(process.platform);\n  const isWin = /^win/.test(process.platform);\n  if (!isWin && !isMac) {\n    log(`open a brower to ${url} to launch the application`);\n  } else {\n    url = (isMac ? 'open ' : 'start ') + url;\n    log(url);\n    child_proc.exec(\n      url,\n      (err: ?child_process$Error, stdout: BufStr, stderr: BufStr) => {\n        log('stdout: ' + stdout.toString());\n        log('stderr: ' + stderr.toString());\n        if (err !== null && err !== undefined) {\n          log(`exec error: ${JSON.stringify(err)}`);\n        }\n      }\n    );\n  }\n};\n"],"file":"OpenLocalBrowser.js"}